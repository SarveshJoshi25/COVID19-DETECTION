CREATE OR REPLACE PROCEDURE SUSPECT_CHECK (ID IN SUSPECTS.USER_ID%type) 
    IS
    LOC_S VARCHAR2(10) ; 
    LOC_Z VARCHAR2(10) ;
    BEGIN
    SELECT LOCATION INTO LOC_S FROM SUSPECTS WHERE ZONE <> 'R' AND USER_ID = ID ;
    SELECT LOCATION INTO LOC_Z FROM ZONE_SELECT WHERE ZONE = 'R' AND USER_ID = ID ;
    IF (LOC_S = LOC_Z) THEN
    UPDATE SUSPECTS SET SUSPECT='Y' WHERE SUSPECT = 'N' AND ZONE = 'R' AND USER_ID =  ID ;
    END IF;
    END;
    /
DECLARE
    CURSOR C1 IS
    SELECT USER_ID FROM SUSPECTS ;
    BEGIN
    FOR I IN C1 LOOP
    EXECUTE SUSPECT_CHECK(I.USER_ID);
    END LOOP;
    END ;
    /
