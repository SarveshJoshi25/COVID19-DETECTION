CREATE OR REPLACE PROCEDURE SUSPECTS_CHECK AS 
LOCS VARCHAR2(10) ;
LOCC VARCHAR2(10) ;
BEGIN 
LOCS := SELECT LOCATION FROM SUSPECTS WHERE ZONE <> 'R' ;
LOCC := SELECT LOCATION FROM ZONE_SELECT WHERE ZONE = 'R' ;
IF LOCC = LOCS THEN
	UPDATE SUSPECTS SET SUSPECT = 'Y' ;
END IF ;
UPDATE SUSPECTS SET SUSPECT = 'N' WHERE SUSPECT = 'Y' AND ZONE = 'R' ;
END;
/
DECLARE
    CURSOR C1 IS
    SELECT USER_ID FROM SUSPECTS ;
    BEGIN
    FOR I IN C1 LOOP
    EXECUTE SUSPECT_CHECK(I.USER_ID);
    END LOOP;
    END ;
    /
